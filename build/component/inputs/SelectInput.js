import{Input as e}from"../core/Input.js";import"../Utils-eb9561bf.js";class t extends e{constructor(e=[],t=null){const n=document.createElement("select");super(n),n.onchange=()=>{this.dispatchEvent(new Event("change"))},n.onmousedown=n.ontouchstart=()=>{this.dispatchEvent(new Event("click"))},this.setOptions(e,t)}setOptions(e,t=null){const n=this.dom,s=n.value;let o=!1;this.options=e,n.innerHTML="";for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(i={name:i,value:t});const l=document.createElement("option");l.innerText=i.name,l.value=i.value,!1===o&&s===i.value&&(o=!0),n.append(l)}return n.value=null!==t?t:o?s:"",this}getOptions(){return this._options}serialize(e){e.options=[...this.options],super.serialize(e)}deserialize(e){0===this.options.length&&this.setOptions(e.options),super.deserialize(e)}}export{t as SelectInput};
